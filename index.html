<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tracking Plugin Test Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    button {
      padding: 10px 20px;
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Tracking Plugin Test Page</h1>
    
    <!-- Buttons for testing -->
    <button id="loginBtn">Simulate User Login</button>
    <button id="customActivityBtn">Track Custom Activity</button>    
    <button class="add_to_cart">Add to cart</button>
    <button class="remove_from_cart">Remove from cart</button>
    <button class="wishlist">Wishlist</button>
    <button class="remove_from_wishlist">Remove from Wishlist</button>
    <button class="product_view">Product View</button> 
  </div>

  <!-- Load the Tracking Plugin Asynchronously -->
  <!-- <script>
    (function() {
      var script = document.createElement("script");
      //script.src = "https://pushpa-mali-23.github.io/tracking-plugin/tracking-plugin.min.js";
      script.src = "tracking-plugin.min.js";
      script.async = true;
      script.onload = function() {
        console.log("Tracking Plugin Loaded");
        window.TrackingPlugin?.setWidgetId('hfSNfcb4BKvebGMTeK2p/A=='); // Replace with actual widget ID
      };
      document.head.appendChild(script);

      // Function to set user ID dynamically after login
      window.setTrackingUserId = function(userId) {
        if (window.TrackingPlugin && typeof window.TrackingPlugin.setUserId === 'function') {
          window.TrackingPlugin.setUserId(userId);
          console.log(`User ID set: ${userId}`);
        } else {
          console.error("TrackingPlugin.setUserId is not available yet.");
        }
      };
    })();
  </script> -->


    <!-- <script>
      (function() {
        const s = document.createElement("script");
        s.src = "tracking-plugin.min.js";
        s.async = true;
        s.onload = () => window.TrackingPlugin?.setWidgetId('hfSNfcb4BKvebGMTeK2p/A=='); // Replace with actual widget ID
        document.head.appendChild(s);

        window.setTrackingUserId = userId => window.TrackingPlugin?.setUserId?.(userId);
      })();
    </script> -->

    <!-- <script>!function(){let s=document.createElement("script");s.src="tracking-plugin.min.js",s.async=1,s.onload=()=>TrackingPlugin?.setWidgetId('hfSNfcb4BKvebGMTeK2p/A=='),document.head.appendChild(s),window.setTrackingUserId=id=>TrackingPlugin?.setUserId?.(id)}();</script> -->

    <script>(()=>{const s=document.createElement("script");s.src="tracking-plugin.min.js";s.async=true;s.onload=()=>window.TrackingPlugin?.setWidgetId('hfSNfcb4BKvebGMTeK2p/A==');document.head.appendChild(s);window.setTrackingUserId=id=>window.TrackingPlugin?.setUserId?.(id)})()</script>


  <!-- Test Scripts -->
  <script>
    // Simulate user login
    document.getElementById('loginBtn').addEventListener('click', () => {
      //const userId = 800514; // Replace with actual user ID after authentication
      const userId = 930917; // Replace with actual user ID after authentication
      //const userId = 930898; // Replace with actual user ID after authentication
      setTrackingUserId(userId); // Call the function to set the user ID
    });

    // Simulate product event tracking
    document.querySelector('.add_to_cart').addEventListener('click', () => {
      if (window.TrackingPlugin && typeof window.TrackingPlugin.trackProductEvent === 'function') {
        const eventName = 'add_to_cart';
        const productInfo = {
          id: 83858,
          name: 'Golden Glow Pendant Chain',
          slug: 'golden-glow-pendant-chain',
          sku: 'TEST5'
        };
        
        window.TrackingPlugin.trackProductEvent(eventName, productInfo);
        console.log(`Product event tracked: ${eventName}`, productInfo);
        
      } else {
        console.error("TrackingPlugin.trackProductEvent is not available yet.");
      }
    });

    document.querySelector('.remove_from_cart').addEventListener('click', () => {
      if (window.TrackingPlugin && typeof window.TrackingPlugin.trackProductEvent === 'function') {
        const eventName = 'remove_from_cart';
        const productInfo = {
          id: 83858,
          name: 'Golden Glow Pendant Chain',
          slug: 'golden-glow-pendant-chainnnnnn',
          sku: 'TEST5'
        };
        
        window.TrackingPlugin.trackProductEvent(eventName, productInfo);
        console.log(`Product event tracked: ${eventName}`, productInfo);
        
      } else {
        console.error("TrackingPlugin.trackProductEvent is not available yet.");
      }
    });

     document.querySelector('.remove_from_wishlist').addEventListener('click', () => {
      if (window.TrackingPlugin && typeof window.TrackingPlugin.trackProductEvent === 'function') {
        const eventName = 'remove_from_wishlist';
        const productInfo = {
          id: 83858,
          name: 'Golden Glow Pendant Chain',
          slug: 'golden-glow-pendant-chainnnnnn',
          sku: 'TEST5'
        };
        
        window.TrackingPlugin.trackProductEvent(eventName, productInfo);
        console.log(`Product event tracked: ${eventName}`, productInfo);
        
      } else {
        console.error("TrackingPlugin.trackProductEvent is not available yet.");
      }
    });

     document.querySelector('.wishlist').addEventListener('click', () => {
      if (window.TrackingPlugin && typeof window.TrackingPlugin.trackProductEvent === 'function') {
        const eventName = 'wishlist';
        const productInfo = {
          id: 83858,
          name: 'Golden Glow Pendant Chain',
          slug: 'golden-glow-pendant-chain-12',
          sku: 'TEST5'
        };
        
        window.TrackingPlugin.trackProductEvent(eventName, productInfo);
        console.log(`Product event tracked: ${eventName}`, productInfo);
        
      } else {
        console.error("TrackingPlugin.trackProductEvent is not available yet.");
      }
    });
    // Simulate custom activity tracking
    document.getElementById('customActivityBtn').addEventListener('click', () => {
      if (window.TrackingPlugin && typeof window.TrackingPlugin.trackCustomActivity === 'function') {
        const activityType = 'product_id';
        const typeId = 10; // Example product ID
        const additionalData = {
          activity_data: {
            product_name: 'Diamond Ring',
            price: 299.99
          }
        };
        window.TrackingPlugin.trackCustomActivity(activityType, typeId, additionalData);
        console.log(`Custom activity tracked: ${activityType}, Type ID: ${typeId}`);
      } else {
        console.error("TrackingPlugin.trackCustomActivity is not available yet.");
      }
    });

     // Product view event (new button handler)
     document.querySelector('.product_view').addEventListener('click', () => {
      if (window.TrackingPlugin?.trackProductEvent) {
        const eventName = 'product_view';
        const productInfo = {
          id: '65041',
          slug: 'JKER152',
          sku: 'JKER152'
        };
        window.TrackingPlugin.trackProductEvent(eventName, productInfo);
        console.log(`Product event tracked: ${eventName}`, productInfo);
      } else {
        console.error("TrackingPlugin.trackProductEvent is not available yet.");
      }
    });
  </script>
</body>
</html>